## Linux命令行与shell脚本编程大全

+ Part2: shell脚本编程基础（11-16）
+ Part3:高级shell脚本编程（17-23）

### chap11、构建基本脚本

##### 11.1、使用多个命令

11.2、创建shell脚本文件

11.3、显示消息

#### 11.4、使用变量

##### 11.4.1、环境变量

+ `set`命令
+ 环境变量前面加美元符号`$`
  + `echo "The cost of the item is \$15"`会认为是要输入$，没有`\`，会被认为是`$1`+5这样的，可以通过`${15}`的方式来表达

##### 11.4.2、用户变量

+ **区分大小写，不能出现空格**
+ 引用一个变量值时需要使用美元符，而引用变量来对其进行赋值时则不要使用美元符

##### 11.4.3、命令替换

+ 将命令输出给变量
  + 反引号字符 ```
  + `$()`格式

11.5、重定向输入和输出

#### 11.6、管道

##### 11.6.1、expr命令

11.7、执行数学运算

11.8、退出脚本

11.9、小结

### chap12、使用结构化命令

#### 12.1、使用if-then语句

```shell
#!/bin/bash
#testing the if statement
if pwd
then
	echo "It worked"
#else
	#echo "else"
fi
```



#### 12.2、if-then-else语句

##### 12.3、嵌套if

+ `elif`组合

#### 12.4、test命令

+ 判断三类条件

##### 12.4.1、数组比较

##### 12.4.2、字符串比较

##### 12.4.3、文件比较

12.5、复合条件测试

12.6、if-then的高级特征

##### 12.6.1、使用双括号

##### 12.6.2、使用双方括号

#### 12.7、case命令

12.8、小结

### chap13、更多的结构化命令

13.1、for命令

13.2、C语言风格的for命令

13.3、while命令

13.4、until命令

13.5、嵌套循环

13.6、循环处理文件数据

13.7、控制循环

13.8、处理循环的输出

13.9、实例

13.10、小结

### chap14、处理用户输入

### chap15、呈现数据

#### 15.7、创建临时文件

#### 15.8、记录消息

### chap16、控制脚本

16.4、作业控制

### chap17、创建函数

#### 17.1、基本的脚本函数

+ 17.1.1、创建函数，2种形式

```shell
function name {commands} #关键字function
name() {commands} #关键的()
```



+ 17.1.2、使用函数

#### 17.2、返回值

+ 17.2.1、默认退出状态码
  + **函数中最后一条命令返回的退出状态码，可以用`$?`来确定**
+ 17.2.2、使用return命令
  + **退出状态码，必须是0-255**
+ 17.2.3、使用函数输出
  + `result = $(dbl)	 #dbl是函数`

#### 17.3、在函数中使用变量

##### 17.3.1、向函数传递参数

+ `$#`判断传给函数的参数数目

##### 17.3.2、在函数中处理变量

+ 全局变量
+ 局部变量
  + `local`关键字，**保证了变量只局限在该函数中**
  + *问题，如果有2个同名的怎么办？*

#### 17.4、数组变量和函数

##### 17.4.1、向函数传数组参数

##### 17.4.2、从函数返回数组

+ test12.sh

#### 17.5、函数递归

+ test13.sh

#### 17.6、创建库

#### 17.7、在命令行上使用函数

#### 17.8、实例

#### 17.9、小结

### chap19、初始sed和gawk

### chap20、正则表达式