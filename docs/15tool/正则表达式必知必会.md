## 《正则表达式必知必会》

### 引言

+ 在实际过程中**如何用它们去解决问题**（*就算不是代码相关，用everything，word或notepad--编辑器，也是可以用正则的*），因为之前的书**往往过于偏语法而显得不够实用**（如何定义{，知道+与*之间的区别），**但并没有真正掌握它们的用法**
+ 《精通正则表达式》Jeffrey Friedl
+ **本书可以让你尽快学会正则表达式的基本用法**，也有复杂的专题
  + 回溯引用（back reference）
  + 条件性求值（conditional evaluation）
  + 前后查找（looking around）
+ 每章在10min内可以学完

### chap1、正则表达式入门

1.1、正则表达式的用途

#### 1.2、如何使用正则表达式

+ 主要是2种情况**搜索、替换**

##### 1.2.1、用正则表达式进行搜索

##### 1.2.2、用正则表达式进行替换

1.3、什么是正则表达式

1.4、使用正则表达式

#### 1.5、在继续学习之前

+ 1、在使用正则表达式时，**所有问题都有不止一种解决方案**
+ 2、不同的实现往往会有差异
+ 3、跟其它语言一样，**实践，实践，再实践**

#### 1.6、小结

### chap2、匹配单个字符

#### 2.1、匹配纯文本

+ `Ben`当正则表达式

##### 2.1.1、有多个匹配结果

+ 一般只显示第1个，**可以用`g`（global）**选项看看

##### 2.1.2、字母的大小写问题

+ 作者说javascript可以用`i`标志
+ *我觉得可以用`[Bb]en`这种方式，lionel*

#### 2.2、匹配任意字符

+ **点号（.）**，匹配任何单一字符
+ 可以使用`.a.`

#### 2.3、匹配特殊字符

+ 搜索`.`本身，就**需要`\`（反斜杠）转义**一下
+ `\`是**元字符（metacharacter）**【字符有特殊含义，而不是字符本身含义】

#### 2.4、小结

### chap3、匹配一组字符

#### 3.1、匹配多个字符中的某一个

+ `[ns]a.\.xls`，匹配字符n或s，其它跟上文一样
+ `[Nn]a.\.xls`，也是匹配里面的大小写

#### 3.2、利用字符集合区间

+ `[ns]a[0-9]\.xls`，也可以`[ns]a[0123456789]\.xls`
+ `-`表示**连字符**

#### 3.3、取非匹配

+ 用**元字符`^`**来对一个字符集合进行取非匹配
+ `[ns]a[^0-9]\.xls`，匹配**任何不是数字的字符**

3.4、小结

### chap4、使用元字符

#### 4.1、对特殊字符进行转义

#### 4.2、匹配空白字符

+ 空白元字符
  + `[\b]`
  + `\f`
  + `\n`
  + `\r`
  + `\t`
  + `\v`

#### 4.3、匹配特定的字符类别

##### 4.3.1、匹配数字（与非数字）d

+ `\d`，匹配`[0-9]`
+ `\D`，匹配`[^0-9]`

##### 4.3.2、匹配字母和数字（与非字母和数字）w

+ `\w`，**字母数字字符或下划线字符**，`[a-zA-Z0-9_]`
+ `\W`

##### 4.3.3、匹配空白字符（与非空白字符）s

+ `\s`
+ `\S`

##### 4.3.4、匹配十六进制或八进制数值

+ 1、使用十六进制，`\x`
+ 2、使用八进制，`\0`

#### 4.4、使用POSIX字符类

+ `[:upper:]`，任何一个大写字母

4.5、小结

### chap5、重复匹配

5.1、有多少个匹配

+ 匹配邮件text@text.txt的写法，`\w@\w\.\w`

##### 5.1.1、匹配一个或多个字符

+ `a+`，匹配一个或多个（至少一个；不匹配零个字符的情况）
+ `\w+@\w+\.\w+`
+ 再一版本，就是，`[\w.]+@[\w.]+\.\w+`

##### 5.1.2、匹配零个或多个字符

+ `a*`，匹配零次或多次

##### 5.1.3、匹配零个或一个字符

+ `?`，
+ 例子，`https?://[\w./]+`，*这里匹配https和http两种情况，这我不太明白，lionel*

#### 5.2、匹配的重复次数

##### 5.2.1、为重复匹配次数设定一个精确的值

+ 先是引入**元字符{}**，然后用`{3}`，表示**连续重复出现3次**才算是一个匹配
+ `#[[:xdigit::]]{6}`，十六进制的数字，连续出现6次，当然还是#开头

##### 5.2.2、为重复匹配次数设定一个区间

+ `{2,4}`，最少重复2次，最多重复4次

##### 5.2.3、匹配“至少重复多少次”

+ `{3,}`，最少重复3次，**没有上限**

#### 5.3、防止过度匹配

+ *lionel，这个不太懂*，用了**贪婪型、懒惰型**元字符
  + 懒惰型，只匹配第一个满足的？*lionel*
+ 贪婪型元字符
  + 提的是`*`，但`.*`，*lionel，因为我遇到过这种*
  + `+`
  + `{n,}`
+ 懒惰型元字符
  + `*?`
  + `+?`
  + `{n,}?`
+ 本书的2个例子
  + `<[Bb]>.*</[Bb]>`
  + `<[Bb]>.*?</[Bb]>`

5.4、小结

### chap6、位置匹配

6.1、边界

#### 6.2、单词边界

+ `\b`
+ 用法，`\bcat \b`，**这里故意匹配cat后面的空格**

#### 6.3、字符串边界

+ `^$`，**分别表示，开头和结尾**
+ 分行匹配模式
+ *lionel，这节没太看*

6.4、小结

### chap7、使用子表达式

#### 7.1、什么是子表达式

+ 

#### 7.2、子表达式

+ 元字符`()`，引入的作用是啥呢**当作一个独立元素来使用**
+ 例子
  + `\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}`，能匹配到12.159.46.200这样的
  + 可以写成`(\d{1,3}\.){3}\d{1,3}`，表明这个子表达式重复了3次

#### 7.3、子表达式的嵌套

7.4、小结

### chap8、回溯引用：前后一致匹配

8.1、回溯引用有什么用

8.2、回溯引用匹配

8.3、回溯引用在替换操作中的应用

8.4、小结

### chap9、前后查找

9.1、

9.2、

9.3、

9.4、

9.5、

9.6、小结

### chap10、嵌入条件

#### 10.1、为什么要嵌入条件

+ `\(?\d{3}\)?-?\d{3}-\d{4}`
  + `\(?`，匹配**可选左括号**，因为是个?
  + `\d{3}`，重复的3个数字
  + `\)?`，**右括号可选**
  + `-?`，-也是可选
  + *后面的知道，lionel*

#### 10.2、正则表达式里的条件

+ `?`，**匹配前一个字符或表达式，如果它存在的话**
+ `?=`和`?<=`

10.2.1、回溯引用条件

10.2.2、前后查找条件

10.3、小结

+ `(19|20)`是啥意思，*有可能我抄错了*

### 附录

#### A、常见

#### B、常见问题的正则表达式解决方案

#### C、正则表达式测试器

### 最后

#### 履历

+ 2023-11-22，（是昨天整sed学high了，在看shell书时，决定先把这个小册子给over掉），晚上回来花2个cubi，先给整理一下，已经会的知识，用于**复习**，把难点留着后面看看，*7-10还差点意思，需要再看一下，lionel*