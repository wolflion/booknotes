## 《LinuxC编程一站式学习》

### 0

+ Part1（1-12）
+ Part2，C语言本质（13-25）

### chap16、计算机体系结构基础（207/478）

+ 基于Von Neumann体系（冯.诺依曼），**CPU和内存**是核心

#### 16.1、内存与地址

#### 16.2、CPU

+ CPU总是周而复始地做同一件事：**从内存取指令，然后解释执行它，然后再取下一条指令，再解释执行**。
+ CPU最核心的功能单元
  + 寄存器，**CPU内部的高速存储器**
  + 程序计数器，特殊的寄存器，**保存着CPU取下一条指令的地址**
  + 指令译码器，**解释指令的含义，然后调动相应的单元去执行它**
  + 算术逻辑单元，
  + 地址和数据总线，
+ *这一块图的地方，没看*（208-210）

#### 16.3、设备

+ *没看*

#### 16.4、MMU，内存管理单元

+ **虚拟地址**和**物理地址**
+ *OS如何与内存配合*

#### 16.5、Memory Hierarchy

+ *内存体系*

### chap17、x86汇编程序基础（219/478）

#### 17.1、最简单的汇编程序

+ *没具体看*

#### 17.2、x86的寄存器

+ x86的**通用寄存器**有`eax,ebx,ecx,edx,edi,esi`，**edi，esi**没太有印象
+ x86的**特殊寄存器**有`ebp,esp,eip,eflags`
  + eip是程序计数器
  + eflags保存着计算过程中产生的标志位
  + ebp，esp**维护函数调用的栈帧**

#### 17.3、第二个汇编程序

+ *没具体看*

#### 17.4、寻址方式

+ 直接寻
+ 间接寻
+ 基地寻
+ 立即数寻
+ 寄存器寻

#### 17.5、ELF文件

+ elf有3种不同的类型
  + 可重定位的目标文件（Relocatable，或者Object File）
  + 可执行文件（Executable）
  + 共享库（Shared Object，或者Shared Library）

##### 17.5.1、目标文件

+ `readelf -a max.o`

##### 17.5.2、可执行文件

+ `readelf -a max`

### chap18、汇编与C之间的关系

18.1、函数调用

18.2、mian函数、启动例程和退出状态

18.3、变量的存储布局

18.4、结构体和联合体

18.5、C内联汇编

#### 18.6、volatile限定符

### chap19、链接详解（269/478）

#### 19.1、多目标文件的链接

+ `gcc main.c stack.c -o main`
+ 分步编译`gcc -c main.c  gcc -c stack.c gcc main.o stack.o -o main`
+ **nm命令**查看目标文件的符号表
+ **`readelf -a main`**，可以看到main中的.bss段合并的另两个.o文件的bss段。
+ Q：两个.o文件，调换顺序有3没有啥影响？
+ `ld --verbose`
+ 《GNU Binutils Documentation》

#### 19.2、定义和声明

+ 19.2.1、extern和static关键字
  + `gcc -Wall`的选项。
  + **为什么编译器在处理函数调用时需要知道函数原型？**

#### 19.3、静态库

+ `objdump -d main`

#### 19.4、共享库

##### 19.4.1、编译、链接、运行

##### 19.4.2、

#### 19.5、虚拟内存管理

+ OS的虚拟内存管理机制起到了什么用呢？
  + 1、可以控制物理内存的访问权限
  + 2、使每个进程有独立的地址空间
  + 3、VA到PA的映射会给分配和释放内存带来方便，物理地址不连续的几块内存可以映射成虚拟地址连续的一块内存
  + 4、一个系统如何同时运行着很多进程，为各进程分配的内存之和可能会大于实际可用的物理内存，虚拟内存管理机制使这种情况下各进程仍然能够正常运行

### chap20、预处理（304/478）

#### 20.1、预处理的步骤

#### 20.2、宏定义

##### 20.2.1、函数式宏定义

##### 20.2.4、

##### 20.2.5、宏展开的步骤

#### 20.3、条件预处理指示

#### 20.4、其他预处理特性

+ `#pragma`预处理指示供编译器实现一些扩展特性

### 最后

#### 履历

+ 2021-04-15觉得这本书不错，看了一下第19章