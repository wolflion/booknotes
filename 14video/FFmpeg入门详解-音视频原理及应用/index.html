<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>FFmpeg入门详解 音视频原理及应用 - lionel的技术笔记</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "FFmpeg\u5165\u95e8\u8be6\u89e3 \u97f3\u89c6\u9891\u539f\u7406\u53ca\u5e94\u7528";
        var mkdocs_page_input_path = "14video\\FFmpeg\u5165\u95e8\u8be6\u89e3-\u97f3\u89c6\u9891\u539f\u7406\u53ca\u5e94\u7528.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> lionel的技术笔记
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">简介</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../01daily/">daily</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../02ds/">ds</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../03cpp/">cpp</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../21tool/">tool</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">C++</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../20C%2B%2B/effectiveC%2B%2B/">《Effective C++》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../20C%2B%2B/%E6%B7%B1%E5%BA%A6%E6%8E%A2%E7%B4%A2C%2B%2B%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B/">《深度探索C++对象模型》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../21STL/EffectiveSTL/">《Effective STL》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../21STL/C%2B%2B%E6%B3%9B%E5%9E%8BSTL%E5%8E%9F%E7%90%86%E5%92%8C%E5%BA%94%E7%94%A8/">《C++泛型STL原理和应用》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../21STL/STL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/">《STL源码剖析》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../22C%2B%2Bmodern/%E6%B7%B1%E5%85%A5%E5%BA%94%E7%94%A8C%2B%2B11/">《深入应用C++11》</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">基础知识</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../408/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA/">《操作系统导论》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../408/%E5%A4%A7%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">《大话设计模式》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../408/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90_C%2B%2B4th/">《数据结构与算法分析_C++4th》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../408/%E7%AE%97%E6%B3%95%284th%29/">《算法4th》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../408/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90-%E5%BC%A0%E5%86%9B/">《算法设计与分析-张军》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../408/%E5%A4%A9%E8%A1%8C-%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/">《天行-算法设计与实现》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../408/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%95%99%E7%A8%8B-%E6%9D%8E%E6%98%A5%E8%91%86/">《数据结构教程》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../408/%E6%96%B0%E7%BC%96%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%A0%E9%A2%98%E4%B8%8E%E8%A7%A3%E6%9E%90/">《新编数据结构习题与解析》</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">网络编程</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../10network/TCPIP%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">《TCP/IP网络编程》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../10network/Linux%E9%AB%98%E6%80%A7%E8%83%BD%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%BC%96%E7%A8%8B/">《Linux高性能服务器编程》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../10network/TCPIP%E8%AF%A6%E8%A7%A3%E5%8D%B71/">《TCPIP详解卷1》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../10network/Linux%E5%86%85%E6%A0%B8%E7%BD%91%E7%BB%9C%E6%A0%88%E6%BA%90%E4%BB%A3%E7%A0%81%E6%83%85%E6%99%AF%E5%88%86%E6%9E%90/">《Linux内核网络栈源代码情景分析》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../10network/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Linux%E7%BD%91%E7%BB%9C/">《深入理解Linux网络》</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">机器&深度学习</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../30machineLearning/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E5%9F%BA%E7%A1%80/">《机器学习线性代数基础》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../31deepLearning/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8%EF%BC%9A%E5%9F%BA%E4%BA%8EPython%E7%9A%84%E7%90%86%E8%AE%BA%E4%B8%8E%E5%AE%9E%E7%8E%B0/">《深度学习入门：基于Python的理论与实现》</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">文件系统</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../11filesystem/Linux%E5%86%85%E6%A0%B8%E6%8E%A2%E7%A7%98/">《Linux内核探秘》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../11filesystem/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/">《文件系统技术内幕》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../11filesystem/%E5%AD%98%E5%82%A8%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/">《存储技术原理分析》</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">存储</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../12storage/ceph%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E7%8E%B0/">《ceph设计原理与实现》</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">视频</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../FFmpeg%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/">《FFmpeg入门到精通》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../WebRTC%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/">《WebRTC权威指南》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../WebRTC%E9%9F%B3%E8%A7%86%E9%A2%91%E5%AE%9E%E6%97%B6%E4%BA%92%E5%8A%A8%E6%8A%80%E6%9C%AF/">《WebRTC音视频实时互动技术》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../%E6%96%B0%E4%B8%80%E4%BB%A3%E8%A7%86%E9%A2%91%E5%8E%8B%E7%BC%A9%E7%A0%81%E6%A0%87%E5%87%86-H.264_AVC/">《新一代视频压缩码标准-H.264_AVC》</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">内核</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../13kernel/Linux%E5%86%85%E6%A0%B8%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/">《Linux内核设计与实现》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../13kernel/%E6%B7%B1%E5%85%A5Linux%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%E5%86%85%E6%A0%B8%E6%9C%BA%E5%88%B6/">《深入Linux设备驱动程序内核机制》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../13kernel/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Linux%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/">《深入理解Linux虚拟内存管理》</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../13kernel/深入理解Linux网络技术内幕.md">《深入理解Linux网络技术内幕》</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../13kernel/Linux内核源代码剖析-tcpip实现.md">《Linux内核源代码剖析-TCP/IP实现》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../13kernel/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Linux%E5%86%85%E6%A0%B8/">《深入理解Linux内核》</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">工具</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../15tool/Wireshark%E7%BD%91%E7%BB%9C%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98/">《Wireshark网络分析实战》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../15tool/Linux%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8Eshell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%E5%A4%A7%E5%85%A8%283rd%29/">《Linux命令行与shell脚本编程大全(3rd)》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../15tool/python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883rd%EF%BC%89/">《python程序设计（3rd）》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../15tool/python/Python%E7%BC%96%E7%A8%8B%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/">《Python编程从入门到实践》</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">刷题</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../91leetcode/%E5%89%91%E6%8C%87offer2nd/">《剑指offer2nd》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../91leetcode/%E5%89%91%E6%8C%87offer%E4%B8%93%E9%A1%B9%E7%AA%81%E7%A0%B4/">《剑指offer专项突破》</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../96output/OD基础题.md">OD基础题</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../96output/OD进阶题.md">OD进阶题</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">网课</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../90lecture/01Linux%E9%AB%98%E5%B9%B6%E5%8F%91%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%BC%80%E5%8F%91/">《Linux高并发网络编程开发》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../90lecture/%E4%BE%AF%E6%8D%B7/%E4%BE%AF%E6%8D%B7C%2B%2B%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%8660%E8%AE%B2/">《侯捷C++内存管理60讲》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../90lecture/11NJU%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/">《NJU算法设计与分析》</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">英语专</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../60English/00794%E7%BB%BC%E5%90%88%E8%8B%B1%E8%AF%AD%E4%B8%80%E4%B8%8A/">《综合英语(一)上》</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../95selfStudy/%E6%A6%82%E7%8E%87%E8%AE%BA%E4%B8%8E%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1/">《概率率与数理统计》</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">lionel的技术笔记</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>FFmpeg入门详解 音视频原理及应用</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="ffmpeg-">《FFmpeg入门详解-音视频原理及应用》<a class="headerlink" href="#ffmpeg-" title="Permanent link">&para;</a></h2>
<h3 id="_1">自己想到的一些问题<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<h4 id="q1h264">Q1、H.264编译应该怎么学？<a class="headerlink" href="#q1h264" title="Permanent link">&para;</a></h4>
<ul>
<li>了解H.264编码的基本原理（将视频序列分解为一系列图像帧，然后对每一帧图像进行编码。）帧内编码和帧间编码<ul>
<li>帧内：对每一帧图像进行单独编码</li>
<li>帧间：对相邻帧图像之间的差异进行编码</li>
</ul>
</li>
<li>掌握H.264编码的各种技术（运动补偿、帧内预测、帧间预测、熵编码）</li>
<li>熟悉H.264编码的各种参数。</li>
<li>实践操作H.264编码器。<strong>下载一些开源的H.264编码器</strong></li>
<li><strong>H.264编码标准</strong>：https://www.itu.int/rec/T-REC-H.264/en</li>
<li><strong>H.264编码器</strong>：https://www.ffmpeg.org/</li>
<li><strong>H.264编码教程</strong>：https://www.youtube.com/watch?v=H264-Encoding-Tutorial</li>
</ul>
<h4 id="q2ipb">Q2、I，P，B帧分别是啥意思<a class="headerlink" href="#q2ipb" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>I帧（Intra frame）</strong>，是关键帧，包含了完整的图像信息，可以独立解码。I帧的压缩率最低，但它也是最重的帧。I帧通常用在视频的开头和关键时刻。</li>
<li><strong>P帧（Predicted frame）</strong>，是预测帧，它通过对前一帧（I帧或P帧）进行预测来生成。P帧的压缩率比I帧高，但它也比I帧更轻。P帧通常用在视频的中间部分。</li>
<li><strong>B帧（Bidirectional predicted frame）</strong>，是双向预测帧，它通过对前一帧（I帧或P帧）和后一帧（P帧或B帧）进行预测来生成。B帧的压缩率最高，但它也是最轻的帧。B帧通常用在视频的末尾部分。</li>
</ul>
<h3 id="chap1">chap1、<a class="headerlink" href="#chap1" title="Permanent link">&para;</a></h3>
<h3 id="chap2">chap2、音视频入门<a class="headerlink" href="#chap2" title="Permanent link">&para;</a></h3>
<h4 id="21">2.1、音视频入门引言<a class="headerlink" href="#21" title="Permanent link">&para;</a></h4>
<h5 id="214">2.1.4 自学音视频的困惑<a class="headerlink" href="#214" title="Permanent link">&para;</a></h5>
<ul>
<li>知识分散、过渡断层，<strong>如何构建相关知识树？</strong></li>
</ul>
<h4 id="22">2.2 音视频基础概念<a class="headerlink" href="#22" title="Permanent link">&para;</a></h4>
<h5 id="221">2.2.1、视频<a class="headerlink" href="#221" title="Permanent link">&para;</a></h5>
<ul>
<li>1、动画书<ul>
<li><strong>视频本质是由一系列图片构成的</strong></li>
</ul>
</li>
<li>2、视频</li>
<li>3、视频帧<ul>
<li><strong>Frame，一幅画面</strong>，一段视频是由许多帧组成的</li>
</ul>
</li>
<li>4、帧率<ul>
<li>帧率<strong>单位时间内帧的数量</strong>，单位f/s</li>
<li>24-25f/s，一秒24或2帧，电视/电影的帧率</li>
<li>游戏中30可以接受，60会感到十分流畅，85f/s以上人眼看不出画面过渡了</li>
</ul>
</li>
<li>5.色彩空间<ul>
<li>RGB</li>
<li>YUV<ul>
<li>(1)Y：亮度，即灰度值。除了表示亮度信号外，还含有较多的绿
  色通道量。</li>
<li>(2)U：蓝色通道与亮度的差值。</li>
<li>(3)V：红色通道与亮度的差值</li>
</ul>
</li>
</ul>
</li>
<li>6.YUV的优势</li>
<li>7.RGB和YUV的换算</li>
</ul>
<h5 id="222">2.2.2 音频<a class="headerlink" href="#222" title="Permanent link">&para;</a></h5>
<ul>
<li>1、基本知识<ul>
<li>音频数据的承载方式最常用的是脉冲编码调制，即PCM</li>
<li>声音是一种波，有振幅和频率，所以要保存声音，就要保存声音
  在各个时间点上的振幅，但数字信号并不能连续保存所有时间点的振
  幅，事实上，并不需要保存连续的信号也可以还原出人耳可接受的声
  音。</li>
<li>PCM的采集分为以下步骤：<ul>
<li>模拟信号→采样→量化→编码→数字信号</li>
</ul>
</li>
</ul>
</li>
<li>2.采样率和采样位数<ul>
<li>采样率，即采样的频率。上面提到，采样率要大于原声波最高频
  率的2倍，人耳能听到的最高频率约为20kHz，所以为了满足人耳的
  听觉要求，采样率至少应为40kHz，通常为44.1kHz，更高的频率通
  常为48kHz。
  注意：人耳听觉频率范围为[20Hz，20kHz]。</li>
</ul>
</li>
<li>3.音频编码<ul>
<li>音频编码是指要在计算机内播放或者处理音频文件，也就是要对
  声音文件进行数、模转换，这个过程同样由采样和量化构成</li>
</ul>
</li>
<li>4.声道数<ul>
<li>声道数是指所支持的能发不同声音的音响的个数，常见的声道数
  如下。<ul>
<li>(1)单声道：1个声道。</li>
<li>(2)双声道：两个声道</li>
<li>(3)立体声道：默认为两个声道。</li>
<li>(4)立体声道（4声道）：4个声道</li>
</ul>
</li>
</ul>
</li>
<li>5.码率<ul>
<li>码率指<strong>一个数据流中每秒能通过的信息量</strong>，单位为b/s，公式是<strong>采样率<code>*</code>采样位数<code>*</code>声道数</strong></li>
</ul>
</li>
<li>6.音频格式</li>
</ul>
<h5 id="223">2.2.3 音视频编码<a class="headerlink" href="#223" title="Permanent link">&para;</a></h5>
<ul>
<li>指的是<strong>压缩编码</strong><ul>
<li>未经压缩的大概有多大，<em>怎么计算，lionel</em></li>
</ul>
</li>
<li>1.视频编码<ul>
<li>通常为<strong>有损压缩</strong></li>
<li>H.26x系列，ITU主导</li>
<li>MPEG系列，ISO下属</li>
<li>其它系列</li>
</ul>
</li>
<li>2.音频编码<ul>
<li>AAC压缩格式。AAC格式主要分为两种：音频数据交换格式(Audio Data Interchange Format，
  ADIF)和音频数据传输流(Audio Data Transport Stream，ADTS)<ul>
<li>ADIF</li>
<li>ADTS</li>
</ul>
</li>
</ul>
</li>
<li>3.硬解码和软解码<ul>
<li>软解码是指利用CPU的计算能力来解码，通常如果CPU的能力不是很强，解码速度则会比较慢，也可能出现发热现象</li>
<li>硬解码指的是利用专门的解码芯片来加速解码，通常硬解码的解码速度会快很多，但是由于硬解码由各个厂家实现</li>
</ul>
</li>
</ul>
<h5 id="224">2.2.4 音视频容器<a class="headerlink" href="#224" title="Permanent link">&para;</a></h5>
<ul>
<li>MP4、RMVB、AVI、MKV、MOV等。这些常见的视频格式，其实是包裹了音视频编码数据的容器，用来把特定编码标准编码的视频流和音频流混在一起，成为一个文件。</li>
</ul>
<h4 id="23">2.3 多媒体基础概念<a class="headerlink" href="#23" title="Permanent link">&para;</a></h4>
<h4 id="24">2.4 数字电视基础概念<a class="headerlink" href="#24" title="Permanent link">&para;</a></h4>
<h4 id="25">2.5 短视频基础概念<a class="headerlink" href="#25" title="Permanent link">&para;</a></h4>
<h3 id="chap3">chap3、音视频开发常用工具<a class="headerlink" href="#chap3" title="Permanent link">&para;</a></h3>
<h4 id="31-vlc">3.1 VLC播放器简介<a class="headerlink" href="#31-vlc" title="Permanent link">&para;</a></h4>
<h4 id="32-mediainfo">3.2 MediaInfo简介<a class="headerlink" href="#32-mediainfo" title="Permanent link">&para;</a></h4>
<ul>
<li>分析视频和音频文件的编码和内容信息</li>
</ul>
<h4 id="33-flvanalyser">3.3 FlvAnalyser简介<a class="headerlink" href="#33-flvanalyser" title="Permanent link">&para;</a></h4>
<h4 id="34-elecard-stream-analyzer">3.4 Elecard Stream Analyzer码流分析工具<a class="headerlink" href="#34-elecard-stream-analyzer" title="Permanent link">&para;</a></h4>
<h5 id="341">3.4.1 简介<a class="headerlink" href="#341" title="Permanent link">&para;</a></h5>
<ul>
<li>码流是指<strong>视频文件在单位时间内使用的数据流量</strong>，是视频编码中画面质量控制中最重要的部分。（码流越大，压缩比越小，画面质量越好）</li>
</ul>
<h4 id="35-ffmpeg">3.5 FFmpeg简介<a class="headerlink" href="#35-ffmpeg" title="Permanent link">&para;</a></h4>
<h3 id="4">第4章 音频基础<a class="headerlink" href="#4" title="Permanent link">&para;</a></h3>
<h4 id="41">4.1 音频基础概念<a class="headerlink" href="#41" title="Permanent link">&para;</a></h4>
<h5 id="411">4.1.1 声音和音频<a class="headerlink" href="#411" title="Permanent link">&para;</a></h5>
<ul>
<li>1.声音的三要素<ul>
<li>声音的三要素为<strong>频率、振幅和波形</strong>。</li>
<li>频率是指声波的频率，即声
  音的音调，人类听觉的频率（音调）范围为[20Hz，20kHz]。振幅是
  指声波的响度，通俗地讲就是声音的高低，可以理解为音量，例如一
  般男生的声音振幅（响度）大于女生。波形是指声音的音色，在同样
  的频率和振幅下，钢琴和小提琴的声音听起来是完全不同的，因为它
  们的音色不同。波形决定了其所代表声音的音色，音色不同是因为它
  们的介质所产生的波形不同。综上所述，声音的本质就是音调、音量
  和音色。音调是指频率，音量是指振幅，音色与材质有关。</li>
</ul>
</li>
<li>2.音频的基础概念</li>
</ul>
<h5 id="412">4.1.2 数字音频<a class="headerlink" href="#412" title="Permanent link">&para;</a></h5>
<ul>
<li>1.采样</li>
<li>2、量化</li>
<li>3、编码</li>
</ul>
<ul>
<li>4.其他概念</li>
</ul>
<h5 id="413">4.1.3 音频采集<a class="headerlink" href="#413" title="Permanent link">&para;</a></h5>
<ul>
<li>1.直接获取已有音频数据</li>
</ul>
<ul>
<li>2.利用音频处理软件捕获截取</li>
<li>3.利用话筒录制</li>
</ul>
<h5 id="414">4.1.4 音频处理<a class="headerlink" href="#414" title="Permanent link">&para;</a></h5>
<ul>
<li>1.噪声抑制</li>
<li>2.回声消除</li>
<li>3.自动增益控制</li>
<li>4.静音检测</li>
<li>5.舒适噪声产生</li>
</ul>
<h5 id="415">4.1.5 音频使用场景及应用<a class="headerlink" href="#415" title="Permanent link">&para;</a></h5>
<h5 id="416">4.1.6 音频格式<a class="headerlink" href="#416" title="Permanent link">&para;</a></h5>
<ul>
<li>11.FLAC</li>
</ul>
<h5 id="417">4.1.7 混音技术<a class="headerlink" href="#417" title="Permanent link">&para;</a></h5>
<ul>
<li>混音就是把两路或者多路音频流混合在一起，形成一路音频流。
  混流则是指音视频流的混合，也就是视频画面和声音的对齐。</li>
</ul>
<h5 id="418">4.1.8 音频重采样<a class="headerlink" href="#418" title="Permanent link">&para;</a></h5>
<h4 id="42">4.2 音频编码原理<a class="headerlink" href="#42" title="Permanent link">&para;</a></h4>
<h5 id="422">4.2.2 音频编码<a class="headerlink" href="#422" title="Permanent link">&para;</a></h5>
<ul>
<li>1.音频编码概述<ul>
<li></li>
</ul>
</li>
</ul>
<h5 id="423">4.2.3 音频编码基本手段<a class="headerlink" href="#423" title="Permanent link">&para;</a></h5>
<ul>
<li>音频编码的基本手段包括量化器和语音编码器。</li>
<li>1.量化和量化器</li>
<li>2.语音编码器（3种类型）<ul>
<li>波形编码器</li>
<li>声码器</li>
<li>混合编码器</li>
</ul>
</li>
</ul>
<h5 id="424">4.2.4 音频编码算法<a class="headerlink" href="#424" title="Permanent link">&para;</a></h5>
<ul>
<li>常见的音频编码算法有OPUS、AAC、Vorbis、Speex、iLBC、AMR、G.711等。</li>
</ul>
<h4 id="43">4.3 音频深度学习<a class="headerlink" href="#43" title="Permanent link">&para;</a></h4>
<h5 id="432">4.3.2 十大音频处理任务<a class="headerlink" href="#432" title="Permanent link">&para;</a></h5>
<ul>
<li>(10)音符起始点检测是分析音频／建立音乐序列的第一步，对于
  以上提到的大多数任务而言，执行音符起始点检测是必要的</li>
</ul>
<h3 id="5">第5章 视频基础<a class="headerlink" href="#5" title="Permanent link">&para;</a></h3>
<h4 id="51">5.1 视频基础概念<a class="headerlink" href="#51" title="Permanent link">&para;</a></h4>
<h5 id="511">5.1.1 图像与像素<a class="headerlink" href="#511" title="Permanent link">&para;</a></h5>
<ul>
<li>1</li>
<li>2</li>
<li>3</li>
<li>4、像素位深度</li>
</ul>
<h5 id="512">5.1.2 色彩空间<a class="headerlink" href="#512" title="Permanent link">&para;</a></h5>
<h4 id="52">5.2 音视频封装<a class="headerlink" href="#52" title="Permanent link">&para;</a></h4>
<h4 id="53">5.3、视频压缩编码<a class="headerlink" href="#53" title="Permanent link">&para;</a></h4>
<h5 id="531">5.3.1 视频编码基础知识<a class="headerlink" href="#531" title="Permanent link">&para;</a></h5>
<ul>
<li>1.视频和图像的关系</li>
</ul>
<h5 id="532">5.3.2 视频压缩<a class="headerlink" href="#532" title="Permanent link">&para;</a></h5>
<h5 id="533">5.3.3 视频编码原理<a class="headerlink" href="#533" title="Permanent link">&para;</a></h5>
<h5 id="534">5.3.4 视频编码的关键技术<a class="headerlink" href="#534" title="Permanent link">&para;</a></h5>
<ul>
<li>编码器(Encoder)是指压缩信号
  的设备或程序；解码器(Decoder)是指解压缩信号的设备或程序；编
  解码器(Codec)是指编解码器对。编码的主要流程包括预测、变换、
  量化、熵编码，解码的流程与之互逆</li>
<li>第一，为什么要变换？</li>
<li>第二，为什么要量化？</li>
<li>第三，为什么要采用熵编码？</li>
</ul>
<h5 id="535">5.3.5 视频编解码流程<a class="headerlink" href="#535" title="Permanent link">&para;</a></h5>
<ul>
<li>编码过程包括运动估计、运动补偿、DCT、量化与熵编码等</li>
<li>解码是编码的逆操作</li>
</ul>
<h4 id="54">5.4 视频播放原理<a class="headerlink" href="#54" title="Permanent link">&para;</a></h4>
<h5 id="541">5.4.1 视频播放器简介<a class="headerlink" href="#541" title="Permanent link">&para;</a></h5>
<h5 id="542-ffmpeg">5.4.2 FFmpeg播放架构与原理<a class="headerlink" href="#542-ffmpeg" title="Permanent link">&para;</a></h5>
<h3 id="chap6">chap6、音视频压缩编码基础<a class="headerlink" href="#chap6" title="Permanent link">&para;</a></h3>
<h4 id="61">6.1、音视频压缩编码<a class="headerlink" href="#61" title="Permanent link">&para;</a></h4>
<ul>
<li>空间冗余</li>
<li>时间冗余</li>
<li>视觉冗余</li>
<li>信息熵</li>
<li>结构冗余</li>
<li>知识冗余</li>
</ul>
<h4 id="62">6.2、压缩编码技术分类<a class="headerlink" href="#62" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>数据=信息+数据冗余</strong></li>
<li><strong>无损压缩</strong>也称为可逆编码，重构后的数据与原数据完全相同，适用于磁盘文件的压缩等。</li>
<li><strong>有损压缩</strong>也称为不可逆编码，指使用压缩后的数据进行重构（解压缩）时，重构后的数据与原来的数据有差异，但不会使人们对原始资料所表达的信息造成误解。</li>
</ul>
<h5 id="621">6.2.1、无损压缩<a class="headerlink" href="#621" title="Permanent link">&para;</a></h5>
<ul>
<li>1、哈夫曼编码</li>
<li>2、香农编码</li>
<li>3、算术编码</li>
</ul>
<h5 id="622">6.2.2、有损压缩<a class="headerlink" href="#622" title="Permanent link">&para;</a></h5>
<ul>
<li>典型的有损压缩编码技术包括以下几项<ul>
<li>1、预测编码主要是减少数据在空间和时间上的相关性，以达到对数据压缩的目的</li>
<li>2、变换编码将图像时域信号变换到频域上进行处理</li>
<li>3、量化编码包括标量量化、矢量量化，当对模拟信号进行数字化时，需要经历一个量化的过程。</li>
<li>4、子带编码包括子带编码、块切割法，子带编码主要有两种方式。</li>
<li>5、模型编码包括结构模型、知识基模型。结构模型编码也称为二代编码</li>
<li>6、混合编码包括JPEG、H.261、MPEG等，同时使用两种或两种以上的编码方法进行编码。</li>
</ul>
</li>
</ul>
<h4 id="63">6.3 压缩编码关键技术<a class="headerlink" href="#63" title="Permanent link">&para;</a></h4>
<ul>
<li>预测是指通过帧内预测和帧间预测降低视频图像的空间冗余和时间冗余。</li>
<li>变换是指通过从时域到频域的变换，去除相邻数据之间的相关性，即去除空间冗余。</li>
<li>量化是指通过用更粗糙的数据表示精细的数据来降低编码的数据量，或者通过去除人眼不敏感的信息来降低编码数据量。</li>
<li>熵编码是根据待编码数据的概率特性减少编码冗余。从信号处理层面入手，以像素、块为表示基础的视频图像包含大量冗余信息，如时间冗余、空间冗余和感知冗余等。</li>
</ul>
<h5 id="631">6.3.1、预测编码<a class="headerlink" href="#631" title="Permanent link">&para;</a></h5>
<ul>
<li>预测编码主要包括空间预测编码和时间预测编码。<ul>
<li>空间预测是利用图像空间相邻像素的相关性来预测的方法。</li>
<li>时间预测是利用时间上相邻图像的相关性来预测的方法。</li>
</ul>
</li>
<li>预测编码的基本原理是计算出信号的预测值，然后与实际值求差。</li>
</ul>
<h5 id="632">6.3.2、变换<a class="headerlink" href="#632" title="Permanent link">&para;</a></h5>
<ul>
<li>变换编码是从频域的角度减小图像信号的空间相关性，它在降低数码率等方面取得了和预测编码相近的效果。</li>
</ul>
<h5 id="633">6.3.3、量化<a class="headerlink" href="#633" title="Permanent link">&para;</a></h5>
<ul>
<li>量化就是把经过抽样得到的瞬时值将其幅度离散，即用一组规定的电平，把瞬时抽样值用最接近的电平值来表示，或指把输入信号幅度连续变化的范围分为有限个不重叠的子区间（量化级），每个子区间用该区间内一个确定数值表示，落入其内的输入信号将以该值输出，从而将连续输入信号变为具有有限个离散值电平的近似信号。</li>
</ul>
<h5 id="634">6.3.4、熵编码<a class="headerlink" href="#634" title="Permanent link">&para;</a></h5>
<ul>
<li>熵编码即编码过程中按熵原理不丢失任何信息的编码。信息熵为信源的平均信息量（不确定性的度量）。</li>
</ul>
<h4 id="64">6.4 帧内编码与帧间编码<a class="headerlink" href="#64" title="Permanent link">&para;</a></h4>
<h5 id="641">6.4.1、帧内编码<a class="headerlink" href="#641" title="Permanent link">&para;</a></h5>
<ul>
<li>帧内预测技术，即利用当前编码块周围已经重构出来的像素预测当前块。帧内编码是空间域编码，利用图像空间性冗余度进行图像压缩，处理的是一幅独立的图像，不会跨越多幅图像。</li>
</ul>
<p>6.4.2 帧间编码</p>
<p>6.4.3 运动矢量</p>
<p>6.4.4 运动补偿</p>
<h5 id="645">6.4.5、双向预测<a class="headerlink" href="#645" title="Permanent link">&para;</a></h5>
<h4 id="65gopdtspts">6.5、GOP与DTS/PTS<a class="headerlink" href="#65gopdtspts" title="Permanent link">&para;</a></h4>
<h5 id="651ipbidr">6.5.1、I/P/B/IDR帧<a class="headerlink" href="#651ipbidr" title="Permanent link">&para;</a></h5>
<h5 id="652gop">6.5.2、GOP详细讲解<a class="headerlink" href="#652gop" title="Permanent link">&para;</a></h5>
<h5 id="653dtspts">6.5.3、DTS和PTS详细讲解<a class="headerlink" href="#653dtspts" title="Permanent link">&para;</a></h5>
<h3 id="chap07">chap07、音视频编解码原理与标准<a class="headerlink" href="#chap07" title="Permanent link">&para;</a></h3>
<h4 id="71">7.1 视频编码原理<a class="headerlink" href="#71" title="Permanent link">&para;</a></h4>
<ul>
<li>帧率是以帧为单位的位图图像连续出现在显示器上的频率。</li>
<li>视频数据往往在时域和空域层面有极强的相关性，这也表示有大量的时域冗余信息和空域冗余信息，压缩技术就是去掉数据中的冗余信息。<ul>
<li><strong>视频编码</strong>就是通过特定的<strong>压缩技术</strong>，将某个视频格式的文件转换成另一种视频格式。</li>
</ul>
</li>
<li>为什么巨大的原始视频可以编码成很小的视频呢？核心思想就是去除冗余信息，主要包括空间冗余、时间冗余、编码冗余、视觉冗余
  和知识冗余。</li>
<li>传统的压缩编码是建立在香农信息论的基础上的，它以经典的集合论为基础，用统计概率模型来描述信源，但它未考虑信息接收者的
  主观特性及事件本身的具体含义、重要程度和引起的后果</li>
<li>图像编码方法可分为两代：<ul>
<li>第一代是基于数据统计的，去掉数据冗余，称为低层压缩编码方法</li>
<li>第二代是基于内容的，去掉内容冗余，其中基于对象(Object-Based)的方法称为中层压缩编码方法</li>
</ul>
</li>
<li>使用帧间编码技术可去除时域冗余信息，包括以下3部分：<ul>
<li>（1）、运动补偿是通过先前的局部图像来预测、补偿当前的局部图像，它是减少帧序列冗余信息的有效方法。</li>
<li>（2）、运动是指不同区域的图像需要使用不同的运动矢量来描述运动信息，运动矢量通过熵编码进行压缩。</li>
<li>（3）、运动估计是从视频序列中抽取运动信息的一整套技术。</li>
</ul>
</li>
<li>使用帧间编码技术和熵编码技术可以去除空域冗余信息，主要包括以下3种方法：<ul>
<li>（1）、变换编码是指帧内图像和预测差分信号都有很高的空域冗余信息，变换编码将空域信号变换到另一个正交矢量空间，使其相关性下降，数据冗余度减小。</li>
<li>（2）、量化编码是指经过变换编码后，产生一批变换系数，对这些系数进行量化，使编码器的输出达到一定的位率，这一过程可导致精度的降低。</li>
<li>（3）、熵编码是无损编码，对变换、量化后所得到的系数和运动信息进行进一步的压缩。</li>
</ul>
</li>
</ul>
<h4 id="72">7.2、视频采集原理<a class="headerlink" href="#72" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>视频</strong>是多幅静止图像（图像帧）与连续的音频信息在时间轴上同步运动的混合媒体，多帧图像随时间变化而产生运动感，因此视频也
  被称为运动图像。</li>
</ul>
<h4 id="73">7.3、音频编码原理<a class="headerlink" href="#73" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>阈值特性</strong>是指人耳对不同频率的声音具有不同的听觉灵敏度，对低频段（100Hz以下）和超高频段（16kHz以上）的听觉灵敏度较
  低，而在[1kHz，5kHz]的中音频段时，听觉灵敏度明显提高。</li>
<li><strong>子带编码技术</strong>是将原始信号由时间域转变为频率域，然后将其分割为若干个子频带，并对其分别进行数字编码的技术。</li>
</ul>
<h4 id="74">7.4、视频编码标准<a class="headerlink" href="#74" title="Permanent link">&para;</a></h4>
<h5 id="741-ituisojvt">7.4.1 ITU/ISO/JVT<a class="headerlink" href="#741-ituisojvt" title="Permanent link">&para;</a></h5>
<h5 id="742-mpeg-x">7.4.2 MPEG-x系列<a class="headerlink" href="#742-mpeg-x" title="Permanent link">&para;</a></h5>
<h5 id="743-h26x">7.4.3 H.26x系列<a class="headerlink" href="#743-h26x" title="Permanent link">&para;</a></h5>
<h3 id="chap08">chap08、音视频编解码技术与流程<a class="headerlink" href="#chap08" title="Permanent link">&para;</a></h3>
<ul>
<li>技术主要包括I帧、P帧和B帧技术、运动估计和运动补偿等</li>
<li>视频压缩编码过程一般分为3个步骤，包括时间维压缩、空间维压缩及熵编码。</li>
</ul>
<h4 id="81">8.1 视频编码简介<a class="headerlink" href="#81" title="Permanent link">&para;</a></h4>
<ul>
<li>编码就是为了压缩。要实现压缩，就要设计各种算法，<strong>将视频数据中的冗余信息去除</strong>。</li>
</ul>
<h4 id="82">8.2 视频编码流程<a class="headerlink" href="#82" title="Permanent link">&para;</a></h4>
<ul>
<li>视频编码最主要的工作就是压缩，分为帧内压缩和帧间压缩，然后又分为几个步骤，主要包括预测、变换、量化、熵编码、滤波处理等，但压缩是分步骤的，不是简单地把图像中重复的数据直接聚合在一起。依据方法论，可压缩的内容有两种：单幅图像的压缩和多幅图像的压缩。</li>
<li><strong>帧内压缩</strong>，一张图像，分成若干小块，每块为8×8像素大小，如果这个小块的每像素的颜色都是白色，就可以用一个点的值来代替这所有64个点的值，在编码中该标准术语叫空间冗余，相应的方法叫帧内压缩</li>
<li><strong>帧间压缩</strong>，视频中一个连续的动作，例如画面里的男主角在蓝墙背景下闭上了眼睛，这一动作的背后，是由一系列的多幅图片组成的，而每幅图片的内容基本上都是一样的，唯一变化的部分就是眼睛所在图像区域，眼睛缓慢由开到闭，这块区域的像素值发生了变化。对于绝大多数的背景区域，它是没有变化的，那么除了含有闭眼动作的这块区域，是否可以只用一张图像来代替这么多个连续的图像呢？这在编码中的术语叫时间冗余，强调的是<strong>在一定时间段内如何对连续多幅图像的冗余部分进行压缩</strong>，其专业术语叫帧间压缩</li>
<li>图像的空间冗余和时间冗余都被压缩了，压缩成一串字符串，然后还可以对这段字符串进行进一步压缩，就是所谓的<strong>编码冗余</strong>。</li>
</ul>
<h4 id="83-ipb">8.3 I/P/B帧技术详细讲解<a class="headerlink" href="#83-ipb" title="Permanent link">&para;</a></h4>
<h5 id="831-ipb">8.3.1 I/P/B帧编解码技术<a class="headerlink" href="#831-ipb" title="Permanent link">&para;</a></h5>
<ul>
<li>I帧是自带全部信息的独立帧，是最完整的画面，占用的空间最大，不需要参考其他图像便可独立进行解码。视频序列中的第1个帧，始终都是I帧。</li>
<li>P帧即帧间预测编码帧，需要参考前面的I帧和（或）P帧的不同部分，这样才能进行编码。P帧对前面的P和I参考帧有依赖性，但P帧压缩率比较高，占用的空间较小。</li>
<li>B帧即双向预测编码帧，以前帧和后帧作为参考帧。不仅参考前面，还参考后面的帧，所以它的压缩率最高，可以达到200:1。<strong>不适合实时传输，例如视频会议</strong></li>
</ul>
<h5 id="832-ipb">8.3.2 I/P/B帧的特点<a class="headerlink" href="#832-ipb" title="Permanent link">&para;</a></h5>
<ul>
<li>I帧的特点<ul>
<li>(1)I帧是一个全帧压缩编码帧，它将全帧图像信息进行JPEG压缩
  编码及传输。</li>
<li>(9)训练视频分类任务的时候往往在处理I帧的时候要采用更加复
  杂的网络。</li>
</ul>
</li>
<li>2.P帧的特点<ul>
<li>(7)由于采用的是差值传送，所以P帧的压缩比较高。</li>
</ul>
</li>
<li>3.B帧的特点<ul>
<li>(5)B帧不是参考帧，不会造成解码错误的扩散。</li>
</ul>
</li>
</ul>
<h5 id="833-ipb">8.3.3 I/P/B帧的基本流程<a class="headerlink" href="#833-ipb" title="Permanent link">&para;</a></h5>
<ul>
<li>1.I帧编码的基本流程</li>
<li>2.P帧和B帧编码的基本流程</li>
</ul>
<h5 id="834">8.3.4 帧内与帧间编码<a class="headerlink" href="#834" title="Permanent link">&para;</a></h5>
<ul>
<li>对I帧的处理是采用帧内编码的方式，只利用本帧图像内的空间相
  关性。对P帧的处理，采用帧间编码，如前向运动估计，同时利用空
  间和时间上的相关性。简单来讲，采用运动补偿算法来去掉冗余信
  息。I帧和P帧的编码如图8-16所示。对B帧采取双向预测内插编码的
  压缩算法。</li>
</ul>
<h5 id="835">8.3.5 帧内编码流程<a class="headerlink" href="#835" title="Permanent link">&para;</a></h5>
<ul>
<li>图8-17 帧内编码的流程图</li>
<li>帧内编码需要经过DCT、量化、编码等多个过程，涉及的技术包
  括RGB转YUV、图片宏块切割、DCT离散余弦变换、量化、Zig-Zag
  扫描、DPCM差值脉冲编码调制、RLE游程编码、哈夫曼编码、算数
  编码等。</li>
</ul>
<h5 id="836">8.3.6 块与宏块<a class="headerlink" href="#836" title="Permanent link">&para;</a></h5>
<ul>
<li>一般是把
  图像切割为不同的块或宏块，然后对它们进行计算。一个宏块一般为
  16×16像素。宏块是编码处理的基本单元，通常宏块大小为16×16像
  素。一个编码图像首先要划分成多个块（4×4像素）才能进行处理，
  所以宏块应该由整数个块组成。宏块分为I、P、B宏块，I宏块（帧内
  预测宏块）只能利用当前片中已解码的像素作为参考进行帧内预测；
  P宏块（帧间预测宏块）可以利用前面已解码的图像作为参考图像进
  行帧内预测；B宏块（帧间双向预测宏块）则是利用前后向的参考图
  像进行帧内预测。可以将一张图片切割为多个宏块</li>
</ul>
<h4 id="84">8.4 运动估计和运动补偿<a class="headerlink" href="#84" title="Permanent link">&para;</a></h4>
<ul>
<li>运动估计的基本思想是将图像序列的每帧分成许多互不重叠的宏
  块，并认为宏块内所有像素的位移量都相同，然后对每个宏块到参考
  帧某一给定搜索范围内根据一定的匹配准则找出与当前块最相似的
  块，即匹配块，匹配块与当前块的相对位移即为运动矢量。视频压缩
  的时候，只需保存运动矢量和残差数据就可以完全恢复出当前块。</li>
<li>运
  动补偿是一种描述相邻帧（相邻在这里表示在编码关系上相邻，在播
  放顺序上两帧未必相邻）差别的方法，具体来讲是描述前面一帧的每
  个小块怎样移动到当前帧中的某个位置去。这种方法经常被视频压缩
  ／视频编解码器用来减少视频序列中的空域冗余。它也可以用于去交
  织及运动插值的操作。</li>
</ul>
<h4 id="85">8.5 音频编码技术与流程<a class="headerlink" href="#85" title="Permanent link">&para;</a></h4>
<h5 id="851-mpeg-1">8.5.1 MPEG-1音频编码<a class="headerlink" href="#851-mpeg-1" title="Permanent link">&para;</a></h5>
<h5 id="852-mpeg-2">8.5.2 MPEG-2音频编码<a class="headerlink" href="#852-mpeg-2" title="Permanent link">&para;</a></h5>
<h5 id="853-mpeg-4">8.5.3 MPEG-4音频编码<a class="headerlink" href="#853-mpeg-4" title="Permanent link">&para;</a></h5>
<h5 id="854-ac-3">8.5.4 AC-3音频编码<a class="headerlink" href="#854-ac-3" title="Permanent link">&para;</a></h5>
<h3 id="chap9h264">chap9、H.264编解码基础<a class="headerlink" href="#chap9h264" title="Permanent link">&para;</a></h3>
<ul>
<li>ITU-T以H.26x系列为名称命名的视频编解码技术标准之一</li>
<li>H.264是在MPEG-4技术的基础之上建立起来的，其编解码流程主要包括<strong>5部分</strong>：<ul>
<li>帧间和帧内预测、</li>
<li>变换和反变换、</li>
<li>量化和反量化、</li>
<li>环路滤波、</li>
<li>熵编码。</li>
</ul>
</li>
<li>H.264标准的主要目标是与其他现有的视频编码标准相比，在相同的带宽下提供更加优秀的图像质量。</li>
</ul>
<h4 id="91h264">9.1、H.264快速入门<a class="headerlink" href="#91h264" title="Permanent link">&para;</a></h4>
<ul>
<li>在系统层面上，H.264提出了一个新的概念，在视频编码层(Video Coding Layer，VCL)和网络提取层(Network Abstraction Layer，NAL)之间进行概念性分割，<ul>
<li>前者是视频内容的核心压缩内容之表述，</li>
<li>后者则是通过特定类型网络进行递送的表述</li>
</ul>
</li>
</ul>
<h5 id="911">9.1.1、视频压缩编码的基本技术<a class="headerlink" href="#911" title="Permanent link">&para;</a></h5>
<ul>
<li>1、预测编码<ul>
<li>用于处理视频中的时间和空间域的冗余。</li>
<li><strong>帧内预测编码</strong>是指预测值与实际值位于同一帧内，用于消除图像的空间冗余；帧内预测编码的特点是压缩率相对较低，然而可以独立解码，不依赖于其他帧的数据；</li>
<li><strong>帧间预测编码</strong>利用连续帧中的时间冗余进行运动估计和补偿。</li>
</ul>
</li>
<li>2、变换编码</li>
<li>3、量化<ul>
<li><strong>量化</strong>就是把经过抽样得到的瞬时值将其幅度离散，即用一组规定的电平，把瞬时抽样值用最接近的电平值来表示，或指把输入信号幅度连续变化的范围分为有限个不重叠的子区间（量化级），每个子区间用该区间内一个确定数值表示，落入其内的输入信号将以该值输出，从而将连续输入信号变为具有有限个离散值电平的近似信号。</li>
</ul>
</li>
<li>4、熵编码<ul>
<li>视频编码中的熵编码方法主要用于消除视频信息中的统计冗余。</li>
</ul>
</li>
</ul>
<h5 id="912h264">9.1.2、H.264的句法元素<a class="headerlink" href="#912h264" title="Permanent link">&para;</a></h5>
<ul>
<li>在H.264中，句法元素被<strong>组织成5个层次</strong></li>
<li>1、序列<ul>
<li>H.264编码标准中视频序列(Sequence)是指连续几个相关的帧所组成的一个独立的单位，序列中的帧、像素、亮度与色温的差别很小，所以面对一段时间内的几个连续图像时，没必要去对每张图像进行完整一帧的编码，而是选取这段时间的第一帧图像作为完整编码，而下一张图像可以记录与第一帧完整编码图像像素、亮度与色温等的差别即可，以此类推循环下去。</li>
</ul>
</li>
<li>2、图像、帧、场、宏块</li>
</ul>
<ul>
<li>3.片</li>
<li>4.帧类型</li>
<li>5.帧内编码帧/I帧／关键帧</li>
<li>6.P帧／预测帧／前向预测编码帧</li>
<li>7.B帧／双向预测编码帧</li>
<li>8.GOP</li>
<li>9、IDR帧<ul>
<li>I帧和IDR帧都是使用帧内预测的，它们本质上都是I帧，但在编码和解码中为了方便，GOP中首个I帧要和其他I帧区别开，把第1个I帧叫作IDR，这样方便控制编码和解码流程，所以IDR帧一定是I帧，但I帧不一定是IDR帧。</li>
</ul>
</li>
</ul>
<h5 id="913-vclnal">9.1.3 VCL与NAL<a class="headerlink" href="#913-vclnal" title="Permanent link">&para;</a></h5>
<h5 id="914">9.1.4、档次与级别<a class="headerlink" href="#914" title="Permanent link">&para;</a></h5>
<ul>
<li>为了适应不同的应用场景，H.264定义了4种不同的Profile：<ul>
<li>(1)基本档次(Baseline Profile，BP)主要用于视频会议、可视电话等低延时实时通信领域</li>
<li>(2)主档次(Main Profile，MP)主要用于数字电视广播、数字视频数据存储等</li>
</ul>
</li>
</ul>
<h5 id="915x264jm">9.1.5、X264与JM<a class="headerlink" href="#915x264jm" title="Permanent link">&para;</a></h5>
<h4 id="92h264">9.2、H.264编解码原理与实现<a class="headerlink" href="#92h264" title="Permanent link">&para;</a></h4>
<ul>
<li>视频编码是为了<strong>将数据进行压缩</strong>，这样在传输的过程中就不会使资源浪费。</li>
<li>帧内预测压缩以解决空域数据冗余问题、帧间预测压缩（运动估计与
  运动补偿）以解决时域数据冗余问题、整数离散余弦变换可以将空间
  上的相关性变为频域上无关的数据然后进行量化、熵编码。经过压缩
  后的帧分为I帧、P帧和B帧。I帧是关键帧，采用帧内压缩技术；P帧是
  向前参考帧，在压缩时，只参考前面已经处理的帧，采用帧间压缩技
  术；B帧是双向参考帧，在压缩时，既参考前面的帧，又参考它后面
  的帧，采用帧间压缩技术。除了I帧、P帧和B帧外，还有图像序列
  GOP，两个I帧之间是一张图像序列，在一张图像序列中只有一个I
  帧。</li>
</ul>
<h5 id="921h264">9.2.1、H.264编解码简介<a class="headerlink" href="#921h264" title="Permanent link">&para;</a></h5>
<h5 id="922h264">9.2.2、H.264编解码流程<a class="headerlink" href="#922h264" title="Permanent link">&para;</a></h5>
<h5 id="923h264">9.2.3、H.264的帧内预测编码<a class="headerlink" href="#923h264" title="Permanent link">&para;</a></h5>
<ul>
<li>压缩编码大概<strong>分成4个步骤</strong>：<ul>
<li>第一步是<strong>分组</strong>，将一系列变换不大的图像归为一个组，也就是一个序列，也可以叫作GOP</li>
<li>第二步是<strong>定义帧</strong>，将每组的图像帧归分为I帧、P帧和B帧3种类型</li>
<li>第三步是<strong>预测帧</strong>，以I帧作为基础帧，以I帧预测P帧，再由I帧和P帧预测B帧</li>
<li>第四步是<strong>数据传输</strong>，最后将I帧数据与预测的差值信息进行存储和传输。</li>
</ul>
</li>
<li>H.264采用的核心算法是帧内压缩编码和帧间压缩编码，帧内压缩是生成I帧的算法，帧间压缩是生成B帧和P帧的算法。<ul>
<li><strong>I帧（Intra frame）</strong>，是关键帧，包含了完整的图像信息，可以独立解码。I帧的压缩率最低，但它也是最重的帧。I帧通常用在视频的开头和关键时刻。</li>
<li><strong>P帧（Predicted frame）</strong>，是预测帧，它通过对前一帧（I帧或P帧）进行预测来生成。P帧的压缩率比I帧高，但它也比I帧更轻。P帧通常用在视频的中间部分。</li>
<li><strong>B帧（Bidirectional predicted frame）</strong>，是双向预测帧，它通过对前一帧（I帧或P帧）和后一帧（P帧或B帧）进行预测来生成。B帧的压缩率最高，但它也是最轻的帧。B帧通常用在视频的末尾部分。</li>
</ul>
</li>
<li>H.264的帧内预测算法通常可以分为3种情况：<ul>
<li>1、4×4亮度分量预测</li>
<li>2、16×16亮度分量预测</li>
<li>3、H.264的I_PCM编码模式</li>
</ul>
</li>
</ul>
<h4 id="924h264">9.2.4、H.264的帧间预测编码<a class="headerlink" href="#924h264" title="Permanent link">&para;</a></h4>
<ul>
<li>1、树状结构分块</li>
<li>2、运动估计准则</li>
<li>3、运动搜索方法</li>
<li>4、树状分级搜索和亚像素估计</li>
</ul>
<h4 id="93h264">9.3、H.264码流结构<a class="headerlink" href="#93h264" title="Permanent link">&para;</a></h4>
<ul>
<li>H.264的功能分为两层，包括VCL和NAL。<ul>
<li>每个NAL单元包含一个RBSP。</li>
</ul>
</li>
</ul>
<h5 id="931h264">9.3.1、H.264分层结构<a class="headerlink" href="#931h264" title="Permanent link">&para;</a></h5>
<h5 id="932h264">9.3.2、H.264码流结构<a class="headerlink" href="#932h264" title="Permanent link">&para;</a></h5>
<ul>
<li>H.264的码流结构分为两层，其中视频编码层是对核心算法引擎、块、宏块及片的语法级别定义，VCL数据是由编码器直接输出的SODB，它表示图像被压缩后的编码比特流。网络提取层定义了片级以上的语法级别，同时支持以下功能：独立片解码，保证起始码唯一，SEI及流格式编码数据传送。</li>
</ul>
<h5 id="933h264nal-unit">9.3.3、H.264的NAL Unit<a class="headerlink" href="#933h264nal-unit" title="Permanent link">&para;</a></h5>
<ul>
<li>1、H.264的NAL结构</li>
<li>2、NAL头<ul>
<li>NALU由1个NAL头和1个RBSP或EBSP组成。</li>
</ul>
</li>
<li>3、NAL Unit数据类型<ul>
<li>在具体介绍NAL数据类型前，有必要知道NAL分为VCL和非VCL的NAL Unit。</li>
</ul>
</li>
<li>4、NALU与片、宏块的关系<ul>
<li>(1)、1帧=1～N个片，也可以说1到多个片为一个片组。</li>
<li>(2)、1个片=1～N个宏块。</li>
<li>(3)、1个宏块=16×16的YUV数据。</li>
</ul>
</li>
</ul>
<h3 id="chap10aac">chap10、AAC编解码基础<a class="headerlink" href="#chap10aac" title="Permanent link">&para;</a></h3>
<h4 id="101aac">10.1、AAC编码概述<a class="headerlink" href="#101aac" title="Permanent link">&para;</a></h4>
<ul>
<li>AAC是新一代的音频有损压缩技术，它通过一些附加的编码技术，衍生出了LC-AAC、HE-AAC、HE-
  AACv2共3种主要的编码。</li>
<li>AAC共有9种规格，以适应对不同场合的需要。<ul>
<li>（1）、MPEG-2 AAC LC：</li>
</ul>
</li>
</ul>
<h4 id="102aac">10.2、AAC音频文件格式<a class="headerlink" href="#102aac" title="Permanent link">&para;</a></h4>
<ul>
<li>AAC的音频文件格式有两种，包括ADIF和ADTS。<ul>
<li>ADIF特征可以准确地找到这个音频数据的开始，不可以在音频数据流的中间位置进行解码，即它的解码必须在明确定义的开始处进行，故这种格式常用在磁盘文件中。</li>
<li>ADTS是一个有同步字的比特流，解码可以在这个流中的任何位置开始，它的特征类似于MP3数据流格式。</li>
</ul>
</li>
<li>在AAC中，原始数据块的组成有以下几种不同的元素：<ul>
<li>（1）、SCE（Single Channel Element，单通道元素），基本上只由一个ICS组成。</li>
</ul>
</li>
</ul>
<h3 id="chap11h265">chap11、H.265编解码基础<a class="headerlink" href="#chap11h265" title="Permanent link">&para;</a></h3>
<h4 id="111h265">11.1、H.265编解码概述<a class="headerlink" href="#111h265" title="Permanent link">&para;</a></h4>
<ul>
<li>2012年8月，爱立信公司推出了首款H.265编解码器，而在仅仅6个月之后，ITU就正式批准并通过了HEVC/H.265标准，相较于之前的
  H.264标准有了相当大的改善。</li>
</ul>
<h4 id="112h265">11.2、H.265码流简介<a class="headerlink" href="#112h265" title="Permanent link">&para;</a></h4>
<ul>
<li>H.265相比较于H.264，除了包含SPS、PPS外，还多包含了一个VPS 。</li>
</ul>
<h5 id="1121hevc-profileslevelstier">11.2.1、HEVC Profiles/Levels/Tier<a class="headerlink" href="#1121hevc-profileslevelstier" title="Permanent link">&para;</a></h5>
<ul>
<li>HEVC Profile规定了编码器可采用哪些编码工具或算法，共分3个档次：<ul>
<li>（1）、Main Profile：每像素8b的位深，是最常见的档次。</li>
<li>（2）、Main Still Picture Profile：支持单个静态图像，按照Main档次的规定进行编码，码流仅包含单一的帧内编码图像。</li>
<li>（3）、Main 10 Profile：除了8b位深，也可扩展支持10b位深，支持Main 10的解码器必须同时可解码Main档次的码流。</li>
</ul>
</li>
</ul>
<h5 id="1122hevc">11.2.2、HEVC的分层结构<a class="headerlink" href="#1122hevc" title="Permanent link">&para;</a></h5>
<ul>
<li>与H.264/AVC类似，H.265/HEVC采用了VCL和NAL<ul>
<li>VCL包含了视频数据的内容</li>
<li>NAL主要负责对视频压缩后的数据进行划分和封装，保证数据能在不同的网络环境中传输。</li>
</ul>
</li>
<li>在HEVC编码架构中，整体被分为了3个基本单位，分别是编码单位(Coding Unit，CU)、预测单位(Predict Unit，PU)和转换单位
  (Transform Unit，TU)。</li>
</ul>
<h4 id="113h265h264">11.3、H.265与H.264的区别与优势<a class="headerlink" href="#113h265h264" title="Permanent link">&para;</a></h4>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
